#!/usr/bin/env python3
"""
Emoji to Material Icons Replacement Script

This script replaces emojis with Material Icons throughout the E-Ticketing Revenue Estimator project.
Material Icons are more professional and consistent across different platforms.

Usage:
    python emoji_to_material_icons.py [--dry-run] [--revert]
"""

import os
import re
import argparse
import shutil
from pathlib import Path
from typing import Dict, List, Tuple

# Comprehensive emoji to Material Icons mapping
EMOJI_TO_MATERIAL_ICONS = {
    # Money and Finance
    "💰": ":material/attach_money:",
    "💵": ":material/payments:",
    "💳": ":material/credit_card:",
    "💎": ":material/diamond:",
    "💸": ":material/money_off:",
    
    # Charts and Analytics
    "📊": ":material/bar_chart:",
    "📈": ":material/trending_up:",
    "📉": ":material/trending_down:",
    "📋": ":material/assignment:",
    "📅": ":material/calendar_today:",
    "📆": ":material/event:",
    
    # Business and Office
    "🏢": ":material/business:",
    "🏗️": ":material/construction:",
    "🏆": ":material/emoji_events:",
    "🎯": ":material/gps_fixed:",
    "🔧": ":material/build:",
    "🔨": ":material/handyman:",
    "🛠️": ":material/build:",
    
    # Technology and Computing
    "🚀": ":material/rocket_launch:",
    "🖥️": ":material/computer:",
    "💻": ":material/laptop:",
    "📱": ":material/smartphone:",
    "🔄": ":material/refresh:",
    "⚙️": ":material/settings:",
    "🔧": ":material/build:",
    "🔍": ":material/search:",
    "🔎": ":material/manage_search:",
    
    # Communication and Email
    "📧": ":material/email:",
    "📨": ":material/mail:",
    "📩": ":material/forward_to_inbox:",
    "📤": ":material/outbox:",
    "📥": ":material/inbox:",
    "📞": ":material/phone:",
    "📠": ":material/fax:",
    
    # Storage and Database
    "🗄️": ":material/storage:",
    "💾": ":material/save:",
    "💿": ":material/album:",
    "📀": ":material/disc_full:",
    "🗂️": ":material/folder:",
    "📁": ":material/folder:",
    "📂": ":material/folder_open:",
    
    # Network and Cloud
    "☁️": ":material/cloud:",
    "🌐": ":material/public:",
    "🔗": ":material/link:",
    "📡": ":material/wifi:",
    "🛰️": ":material/satellite:",
    
    # Status and Alerts
    "✅": ":material/check_circle:",
    "❌": ":material/cancel:",
    "⚠️": ":material/warning:",
    "🚨": ":material/emergency:",
    "🔔": ":material/notifications:",
    "🔕": ":material/notifications_off:",
    "💡": ":material/lightbulb:",
    "🔥": ":material/local_fire_department:",
    
    # Navigation and UI
    "🏠": ":material/home:",
    "🔙": ":material/arrow_back:",
    "🔚": ":material/last_page:",
    "🔛": ":material/play_arrow:",
    "🔜": ":material/skip_next:",
    "🔝": ":material/keyboard_arrow_up:",
    "🔽": ":material/keyboard_arrow_down:",
    "➕": ":material/add:",
    "➖": ":material/remove:",
    "✖️": ":material/close:",
    "🗑️": ":material/delete:",
    
    # Time and Calendar
    "⏰": ":material/alarm:",
    "⏱️": ":material/timer:",
    "⏲️": ":material/timer:",
    "🕐": ":material/schedule:",
    "📅": ":material/calendar_today:",
    "📆": ":material/event:",
    
    # Performance and Optimization
    "⚡": ":material/flash_on:",
    "🔋": ":material/battery_full:",
    "📶": ":material/signal_cellular_4_bar:",
    "🎛️": ":material/tune:",
    "🎚️": ":material/equalizer:",
    
    # Security and Privacy
    "🔒": ":material/lock:",
    "🔓": ":material/lock_open:",
    "🔑": ":material/key:",
    "🛡️": ":material/security:",
    "👁️": ":material/visibility:",
    "🕵️": ":material/search:",
    
    # Entertainment and Events
    "🎪": ":material/festival:",
    "🎭": ":material/theater_comedy:",
    "🎨": ":material/palette:",
    "🎵": ":material/music_note:",
    "🎬": ":material/movie:",
    "🎤": ":material/mic:",
    "🎸": ":material/music_note:",
    "🎺": ":material/music_note:",
    "🎻": ":material/music_note:",
    "🎹": ":material/piano:",
    "🎲": ":material/casino:",
    "🎳": ":material/sports_bowling:",
    "🎮": ":material/sports_esports:",
    "🎯": ":material/gps_fixed:",
    "🎰": ":material/casino:",
    
    # Transportation
    "🚗": ":material/directions_car:",
    "🚕": ":material/local_taxi:",
    "🚙": ":material/directions_car:",
    "🚌": ":material/directions_bus:",
    "🚎": ":material/directions_bus:",
    "🏎️": ":material/directions_car:",
    "🚓": ":material/local_police:",
    "🚑": ":material/local_hospital:",
    "🚒": ":material/local_fire_department:",
    "🚐": ":material/directions_car:",
    "🛻": ":material/directions_car:",
    "🚚": ":material/local_shipping:",
    "🚛": ":material/local_shipping:",
    "🚜": ":material/agriculture:",
    "🏍️": ":material/two_wheeler:",
    "🛵": ":material/two_wheeler:",
    "🚲": ":material/directions_bike:",
    "🛴": ":material/electric_scooter:",
    "🚁": ":material/flight:",
    "🛩️": ":material/flight:",
    "✈️": ":material/flight:",
    "🚀": ":material/rocket_launch:",
    "🛸": ":material/flight:",
    "🚢": ":material/directions_boat:",
    "⛵": ":material/sailing:",
    "🚤": ":material/directions_boat:",
    "⛴️": ":material/directions_boat:",
    "🛥️": ":material/directions_boat:",
    "🚂": ":material/train:",
    "🚃": ":material/train:",
    "🚄": ":material/train:",
    "🚅": ":material/train:",
    "🚆": ":material/train:",
    "🚇": ":material/subway:",
    "🚈": ":material/train:",
    "🚉": ":material/train:",
    "🚊": ":material/tram:",
    "🚝": ":material/train:",
    "🚞": ":material/train:",
    "🚋": ":material/tram:",
    "🚃": ":material/train:",
    "🚟": ":material/train:",
    "🚠": ":material/cable_car:",
    "🚡": ":material/cable_car:",
    "🛤️": ":material/train:",
    
    # Buildings and Places
    "🏠": ":material/home:",
    "🏡": ":material/house:",
    "🏢": ":material/business:",
    "🏣": ":material/business:",
    "🏤": ":material/business:",
    "🏥": ":material/local_hospital:",
    "🏦": ":material/account_balance:",
    "🏧": ":material/atm:",
    "🏨": ":material/hotel:",
    "🏩": ":material/hotel:",
    "🏪": ":material/store:",
    "🏫": ":material/school:",
    "🏬": ":material/store:",
    "🏭": ":material/factory:",
    "🏮": ":material/celebration:",
    "🏯": ":material/temple_buddhist:",
    "🏰": ":material/castle:",
    "🗼": ":material/tower:",
    "🗽": ":material/account_balance:",
    "⛪": ":material/church:",
    "🕌": ":material/mosque:",
    "🛕": ":material/temple_hindu:",
    "🕍": ":material/synagogue:",
    "⛩️": ":material/temple_buddhist:",
    "🕋": ":material/mosque:",
    
    # Nature and Weather
    "☀️": ":material/wb_sunny:",
    "🌤️": ":material/partly_cloudy_day:",
    "⛅": ":material/cloud:",
    "🌦️": ":material/grain:",
    "🌧️": ":material/grain:",
    "⛈️": ":material/thunderstorm:",
    "🌩️": ":material/thunderstorm:",
    "🌨️": ":material/ac_unit:",
    "❄️": ":material/ac_unit:",
    "☃️": ":material/ac_unit:",
    "⛄": ":material/ac_unit:",
    "🌬️": ":material/air:",
    "💨": ":material/air:",
    "🌪️": ":material/tornado:",
    "🌫️": ":material/cloud:",
    "🌊": ":material/waves:",
    "💧": ":material/water_drop:",
    "💦": ":material/water_drop:",
    "☔": ":material/umbrella:",
    "⚡": ":material/flash_on:",
    "🔥": ":material/local_fire_department:",
    "💥": ":material/explosion:",
    "❄️": ":material/ac_unit:",
    "🌟": ":material/star:",
    "⭐": ":material/star:",
    "🌠": ":material/auto_awesome:",
    "☄️": ":material/auto_awesome:",
    "🌙": ":material/nightlight:",
    "🌛": ":material/nightlight:",
    "🌜": ":material/nightlight:",
    "🌚": ":material/nightlight:",
    "🌝": ":material/nightlight:",
    "🌞": ":material/wb_sunny:",
    
    # Food and Drink
    "🍎": ":material/apple:",
    "🍊": ":material/circle:",
    "🍋": ":material/circle:",
    "🍌": ":material/circle:",
    "🍉": ":material/circle:",
    "🍇": ":material/circle:",
    "🍓": ":material/circle:",
    "🫐": ":material/circle:",
    "🍈": ":material/circle:",
    "🍒": ":material/circle:",
    "🍑": ":material/circle:",
    "🥭": ":material/circle:",
    "🍍": ":material/circle:",
    "🥥": ":material/circle:",
    "🥝": ":material/circle:",
    "🍅": ":material/circle:",
    "🍆": ":material/circle:",
    "🥑": ":material/circle:",
    "🥦": ":material/circle:",
    "🥬": ":material/eco:",
    "🥒": ":material/circle:",
    "🌶️": ":material/circle:",
    "🫑": ":material/circle:",
    "🌽": ":material/circle:",
    "🥕": ":material/circle:",
    "🫒": ":material/circle:",
    "🧄": ":material/circle:",
    "🧅": ":material/circle:",
    "🥔": ":material/circle:",
    "🍠": ":material/circle:",
    "🥐": ":material/bakery_dining:",
    "🥖": ":material/bakery_dining:",
    "🍞": ":material/bakery_dining:",
    "🥨": ":material/bakery_dining:",
    "🥯": ":material/bakery_dining:",
    "🥞": ":material/restaurant:",
    "🧇": ":material/restaurant:",
    "🧀": ":material/restaurant:",
    "🍖": ":material/restaurant:",
    "🍗": ":material/restaurant:",
    "🥩": ":material/restaurant:",
    "🥓": ":material/restaurant:",
    "🍔": ":material/lunch_dining:",
    "🍟": ":material/lunch_dining:",
    "🍕": ":material/local_pizza:",
    "🌭": ":material/lunch_dining:",
    "🥪": ":material/lunch_dining:",
    "🌮": ":material/lunch_dining:",
    "🌯": ":material/lunch_dining:",
    "🫔": ":material/lunch_dining:",
    "🥙": ":material/lunch_dining:",
    "🧆": ":material/lunch_dining:",
    "🥚": ":material/egg:",
    "🍳": ":material/restaurant:",
    "🥘": ":material/restaurant:",
    "🍲": ":material/restaurant:",
    "🫕": ":material/restaurant:",
    "🥣": ":material/restaurant:",
    "🥗": ":material/restaurant:",
    "🍿": ":material/movie:",
    "🧈": ":material/restaurant:",
    "🧂": ":material/restaurant:",
    "🥫": ":material/restaurant:",
    "🍱": ":material/restaurant:",
    "🍘": ":material/restaurant:",
    "🍙": ":material/restaurant:",
    "🍚": ":material/restaurant:",
    "🍛": ":material/restaurant:",
    "🍜": ":material/ramen_dining:",
    "🍝": ":material/restaurant:",
    "🍠": ":material/restaurant:",
    "🍢": ":material/restaurant:",
    "🍣": ":material/restaurant:",
    "🍤": ":material/restaurant:",
    "🍥": ":material/restaurant:",
    "🥮": ":material/restaurant:",
    "🍡": ":material/restaurant:",
    "🥟": ":material/restaurant:",
    "🥠": ":material/restaurant:",
    "🥡": ":material/takeout_dining:",
    "🦀": ":material/restaurant:",
    "🦞": ":material/restaurant:",
    "🦐": ":material/restaurant:",
    "🦑": ":material/restaurant:",
    "🦪": ":material/restaurant:",
    "🍨": ":material/icecream:",
    "🍧": ":material/icecream:",
    "🍦": ":material/icecream:",
    "🍩": ":material/donut_small:",
    "🍪": ":material/cookie:",
    "🎂": ":material/cake:",
    "🍰": ":material/cake:",
    "🧁": ":material/cake:",
    "🥧": ":material/pie_chart:",
    "🍫": ":material/restaurant:",
    "🍬": ":material/candy:",
    "🍭": ":material/candy:",
    "🍮": ":material/restaurant:",
    "🍯": ":material/restaurant:",
    "🍼": ":material/baby_changing_station:",
    "🥛": ":material/local_drink:",
    "☕": ":material/local_cafe:",
    "🫖": ":material/local_cafe:",
    "🍵": ":material/local_cafe:",
    "🍶": ":material/local_bar:",
    "🍾": ":material/celebration:",
    "🍷": ":material/wine_bar:",
    "🍸": ":material/local_bar:",
    "🍹": ":material/local_bar:",
    "🍺": ":material/sports_bar:",
    "🍻": ":material/sports_bar:",
    "🥂": ":material/celebration:",
    "🥃": ":material/local_bar:",
    "🥤": ":material/local_drink:",
    "🧋": ":material/local_drink:",
    "🧃": ":material/local_drink:",
    "🧉": ":material/local_drink:",
    "🧊": ":material/ac_unit:",
    
    # Activities and Sports
    "⚽": ":material/sports_soccer:",
    "🏀": ":material/sports_basketball:",
    "🏈": ":material/sports_football:",
    "⚾": ":material/sports_baseball:",
    "🥎": ":material/sports_baseball:",
    "🎾": ":material/sports_tennis:",
    "🏐": ":material/sports_volleyball:",
    "🏉": ":material/sports_rugby:",
    "🥏": ":material/sports:",
    "🎱": ":material/sports_bar:",
    "🪀": ":material/toys:",
    "🏓": ":material/sports_tennis:",
    "🏸": ":material/sports_tennis:",
    "🏒": ":material/sports_hockey:",
    "🏑": ":material/sports_hockey:",
    "🥍": ":material/sports:",
    "🏏": ":material/sports:",
    "🪃": ":material/sports:",
    "🥅": ":material/sports:",
    "⛳": ":material/golf_course:",
    "🪁": ":material/kite:",
    "🏹": ":material/sports:",
    "🎣": ":material/phishing:",
    "🤿": ":material/scuba_diving:",
    "🥊": ":material/sports_mma:",
    "🥋": ":material/sports_martial_arts:",
    "🎽": ":material/sports:",
    "🛹": ":material/skateboarding:",
    "🛼": ":material/roller_skating:",
    "🛷": ":material/sledding:",
    "⛸️": ":material/ice_skating:",
    "🥌": ":material/sports:",
    "🎿": ":material/downhill_skiing:",
    "⛷️": ":material/downhill_skiing:",
    "🏂": ":material/snowboarding:",
    "🪂": ":material/paragliding:",
    "🏋️": ":material/fitness_center:",
    "🤼": ":material/sports_mma:",
    "🤸": ":material/sports_gymnastics:",
    "⛹️": ":material/sports_basketball:",
    "🤺": ":material/sports:",
    "🤾": ":material/sports_handball:",
    "🏌️": ":material/golf_course:",
    "🏇": ":material/sports:",
    "🧘": ":material/self_improvement:",
    "🏄": ":material/surfing:",
    "🏊": ":material/pool:",
    "🤽": ":material/sports:",
    "🚣": ":material/rowing:",
    "🧗": ":material/climbing:",
    "🚵": ":material/directions_bike:",
    "🚴": ":material/directions_bike:",
    "🏆": ":material/emoji_events:",
    "🥇": ":material/workspace_premium:",
    "🥈": ":material/workspace_premium:",
    "🥉": ":material/workspace_premium:",
    "🏅": ":material/military_tech:",
    "🎖️": ":material/military_tech:",
    "🏵️": ":material/local_florist:",
    "🎗️": ":material/volunteer_activism:",
    "🎫": ":material/confirmation_number:",
    "🎟️": ":material/local_activity:",
    "🎪": ":material/festival:",
    "🤹": ":material/sports:",
    "🎭": ":material/theater_comedy:",
    "🩰": ":material/sports:",
    "🎨": ":material/palette:",
    "🎬": ":material/movie:",
    "🎤": ":material/mic:",
    "🎧": ":material/headphones:",
    "🎼": ":material/music_note:",
    "🎵": ":material/music_note:",
    "🎶": ":material/music_note:",
    "🎹": ":material/piano:",
    "🥁": ":material/music_note:",
    "🪘": ":material/music_note:",
    "🎷": ":material/music_note:",
    "🎺": ":material/music_note:",
    "🎸": ":material/music_note:",
    "🪕": ":material/music_note:",
    "🎻": ":material/music_note:",
    "🎲": ":material/casino:",
    "♟️": ":material/sports:",
    "🎯": ":material/gps_fixed:",
    "🎳": ":material/sports_bowling:",
    "🎮": ":material/sports_esports:",
    "🎰": ":material/casino:",
    "🧩": ":material/extension:",
    
    # Objects and Tools
    "⌚": ":material/watch:",
    "📱": ":material/smartphone:",
    "📲": ":material/smartphone:",
    "💻": ":material/laptop:",
    "⌨️": ":material/keyboard:",
    "🖥️": ":material/computer:",
    "🖨️": ":material/print:",
    "🖱️": ":material/mouse:",
    "🖲️": ":material/mouse:",
    "🕹️": ":material/sports_esports:",
    "🗜️": ":material/compress:",
    "💽": ":material/save:",
    "💾": ":material/save:",
    "💿": ":material/album:",
    "📀": ":material/disc_full:",
    "📼": ":material/videocam:",
    "📷": ":material/photo_camera:",
    "📸": ":material/photo_camera:",
    "📹": ":material/videocam:",
    "📽️": ":material/movie:",
    "🎞️": ":material/movie:",
    "📞": ":material/phone:",
    "☎️": ":material/phone:",
    "📟": ":material/pager:",
    "📠": ":material/fax:",
    "📺": ":material/tv:",
    "📻": ":material/radio:",
    "🎙️": ":material/mic:",
    "🎚️": ":material/equalizer:",
    "🎛️": ":material/tune:",
    "🧭": ":material/explore:",
    "⏱️": ":material/timer:",
    "⏲️": ":material/timer:",
    "⏰": ":material/alarm:",
    "🕰️": ":material/schedule:",
    "⌛": ":material/hourglass_empty:",
    "⏳": ":material/hourglass_full:",
    "📡": ":material/wifi:",
    "🔋": ":material/battery_full:",
    "🔌": ":material/power:",
    "💡": ":material/lightbulb:",
    "🔦": ":material/flashlight_on:",
    "🕯️": ":material/local_fire_department:",
    "🪔": ":material/local_fire_department:",
    "🧯": ":material/local_fire_department:",
    "🛢️": ":material/oil_barrel:",
    "💸": ":material/money_off:",
    "💵": ":material/payments:",
    "💴": ":material/payments:",
    "💶": ":material/payments:",
    "💷": ":material/payments:",
    "🪙": ":material/paid:",
    "💰": ":material/attach_money:",
    "💳": ":material/credit_card:",
    "💎": ":material/diamond:",
    "⚖️": ":material/balance:",
    "🪜": ":material/construction:",
    "🧰": ":material/handyman:",
    "🪛": ":material/construction:",
    "🔧": ":material/build:",
    "🔨": ":material/handyman:",
    "⚒️": ":material/handyman:",
    "🛠️": ":material/build:",
    "⛏️": ":material/construction:",
    "🪚": ":material/construction:",
    "🔩": ":material/construction:",
    "⚙️": ":material/settings:",
    "🪤": ":material/pest_control:",
    "🧲": ":material/attractions:",
    "🔫": ":material/sports:",
    "💣": ":material/warning:",
    "🧨": ":material/warning:",
    "🪓": ":material/construction:",
    "🔪": ":material/restaurant:",
    "🗡️": ":material/sports:",
    "⚔️": ":material/sports:",
    "🛡️": ":material/security:",
    "🚬": ":material/smoking_rooms:",
    "⚰️": ":material/sentiment_very_dissatisfied:",
    "🪦": ":material/sentiment_very_dissatisfied:",
    "⚱️": ":material/sentiment_very_dissatisfied:",
    "🏺": ":material/museum:",
    "🔮": ":material/auto_awesome:",
    "📿": ":material/circle:",
    "🧿": ":material/remove_red_eye:",
    "💈": ":material/content_cut:",
    "⚗️": ":material/science:",
    "🔭": ":material/telescope:",
    "🔬": ":material/biotech:",
    "🕳️": ":material/circle:",
    "🩹": ":material/healing:",
    "🩺": ":material/medical_services:",
    "💊": ":material/medication:",
    "💉": ":material/vaccines:",
    "🩸": ":material/bloodtype:",
    "🧬": ":material/biotech:",
    "🦠": ":material/coronavirus:",
    "🧫": ":material/biotech:",
    "🧪": ":material/science:",
    "🌡️": ":material/device_thermostat:",
    "🧹": ":material/cleaning_services:",
    "🧺": ":material/shopping_basket:",
    "🧻": ":material/cleaning_services:",
    "🪣": ":material/cleaning_services:",
    "🧽": ":material/cleaning_services:",
    "🪒": ":material/content_cut:",
    "🧴": ":material/local_pharmacy:",
    "🛎️": ":material/notifications:",
    "🔑": ":material/key:",
    "🗝️": ":material/key:",
    "🚪": ":material/door_front:",
    "🪑": ":material/chair:",
    "🛏️": ":material/bed:",
    "🛋️": ":material/weekend:",
    "🪞": ":material/mirror:",
    "🚿": ":material/shower:",
    "🛁": ":material/bathtub:",
    "🪤": ":material/pest_control:",
    "🧸": ":material/toys:",
    "🪆": ":material/toys:",
    "🖼️": ":material/image:",
    "🪟": ":material/window:",
    "🛍️": ":material/shopping_bag:",
    "🎁": ":material/card_giftcard:",
    "🎀": ":material/card_giftcard:",
    "🎊": ":material/celebration:",
    "🎉": ":material/celebration:",
    "🎈": ":material/celebration:",
    "🎏": ":material/celebration:",
    "🎐": ":material/celebration:",
    "🎀": ":material/card_giftcard:",
    "🎁": ":material/card_giftcard:",
    "🎗️": ":material/volunteer_activism:",
    "🎟️": ":material/local_activity:",
    "🎫": ":material/confirmation_number:",
    "🎖️": ":material/military_tech:",
    "🏆": ":material/emoji_events:",
    "🏅": ":material/military_tech:",
    "🥇": ":material/workspace_premium:",
    "🥈": ":material/workspace_premium:",
    "🥉": ":material/workspace_premium:",
    "⚽": ":material/sports_soccer:",
    "🏀": ":material/sports_basketball:",
    "🏈": ":material/sports_football:",
    "⚾": ":material/sports_baseball:",
    "🥎": ":material/sports_baseball:",
    "🎾": ":material/sports_tennis:",
    "🏐": ":material/sports_volleyball:",
    "🏉": ":material/sports_rugby:",
    "🥏": ":material/sports:",
    "🎱": ":material/sports_bar:",
    "🪀": ":material/toys:",
    "🏓": ":material/sports_tennis:",
    "🏸": ":material/sports_tennis:",
    "🏒": ":material/sports_hockey:",
    "🏑": ":material/sports_hockey:",
    "🥍": ":material/sports:",
    "🏏": ":material/sports:",
    "🪃": ":material/sports:",
    "🥅": ":material/sports:",
    "⛳": ":material/golf_course:",
    "🪁": ":material/kite:",
    "🏹": ":material/sports:",
    "🎣": ":material/phishing:",
    "🤿": ":material/scuba_diving:",
    "🥊": ":material/sports_mma:",
    "🥋": ":material/sports_martial_arts:",
    "🎽": ":material/sports:",
    "🛹": ":material/skateboarding:",
    "🛼": ":material/roller_skating:",
    "🛷": ":material/sledding:",
    "⛸️": ":material/ice_skating:",
    "🥌": ":material/sports:",
    "🎿": ":material/downhill_skiing:",
    "⛷️": ":material/downhill_skiing:",
    "🏂": ":material/snowboarding:",
    "🪂": ":material/paragliding:",
    "🏋️": ":material/fitness_center:",
    "🤼": ":material/sports_mma:",
    "🤸": ":material/sports_gymnastics:",
    "⛹️": ":material/sports_basketball:",
    "🤺": ":material/sports:",
    "🤾": ":material/sports_handball:",
    "🏌️": ":material/golf_course:",
    "🏇": ":material/sports:",
    "🧘": ":material/self_improvement:",
    "🏄": ":material/surfing:",
    "🏊": ":material/pool:",
    "🤽": ":material/sports:",
    "🚣": ":material/rowing:",
    "🧗": ":material/climbing:",
    "🚵": ":material/directions_bike:",
    "🚴": ":material/directions_bike:",
    
    # Symbols and Shapes
    "❤️": ":material/favorite:",
    "🧡": ":material/favorite:",
    "💛": ":material/favorite:",
    "💚": ":material/favorite:",
    "💙": ":material/favorite:",
    "💜": ":material/favorite:",
    "🖤": ":material/favorite:",
    "🤍": ":material/favorite_border:",
    "🤎": ":material/favorite:",
    "💔": ":material/heart_broken:",
    "❣️": ":material/favorite:",
    "💕": ":material/favorite:",
    "💞": ":material/favorite:",
    "💓": ":material/favorite:",
    "💗": ":material/favorite:",
    "💖": ":material/favorite:",
    "💘": ":material/favorite:",
    "💝": ":material/card_giftcard:",
    "💟": ":material/favorite:",
    "☮️": ":material/peace:",
    "✝️": ":material/church:",
    "☪️": ":material/mosque:",
    "🕉️": ":material/temple_hindu:",
    "☸️": ":material/temple_buddhist:",
    "✡️": ":material/synagogue:",
    "🔯": ":material/star:",
    "🕎": ":material/synagogue:",
    "☯️": ":material/yin_yang:",
    "☦️": ":material/church:",
    "🛐": ":material/place_of_worship:",
    "⛎": ":material/horoscope:",
    "♈": ":material/horoscope:",
    "♉": ":material/horoscope:",
    "♊": ":material/horoscope:",
    "♋": ":material/horoscope:",
    "♌": ":material/horoscope:",
    "♍": ":material/horoscope:",
    "♎": ":material/horoscope:",
    "♏": ":material/horoscope:",
    "♐": ":material/horoscope:",
    "♑": ":material/horoscope:",
    "♒": ":material/horoscope:",
    "♓": ":material/horoscope:",
    "🆔": ":material/badge:",
    "⚛️": ":material/science:",
    "🉑": ":material/check_circle:",
    "☢️": ":material/warning:",
    "☣️": ":material/warning:",
    "📴": ":material/mobile_off:",
    "📳": ":material/vibration:",
    "🈶": ":material/paid:",
    "🈚": ":material/free_cancellation:",
    "🈸": ":material/approval:",
    "🈺": ":material/business:",
    "🈷️": ":material/calendar_month:",
    "✴️": ":material/star:",
    "🆚": ":material/compare:",
    "💮": ":material/local_florist:",
    "🉐": ":material/discount:",
    "㊙️": ":material/lock:",
    "㊗️": ":material/celebration:",
    "🈴": ":material/approval:",
    "🈵": ":material/fullscreen:",
    "🈹": ":material/discount:",
    "🈲": ":material/block:",
    "🅰️": ":material/text_fields:",
    "🅱️": ":material/text_fields:",
    "🆎": ":material/text_fields:",
    "🆑": ":material/clear:",
    "🅾️": ":material/radio_button_unchecked:",
    "🆘": ":material/emergency:",
    "❌": ":material/cancel:",
    "⭕": ":material/cancel:",
    "🛑": ":material/stop:",
    "⛔": ":material/block:",
    "📛": ":material/badge:",
    "🚫": ":material/block:",
    "💯": ":material/verified:",
    "💢": ":material/sentiment_very_dissatisfied:",
    "♨️": ":material/hot_tub:",
    "🚷": ":material/no_pedestrians:",
    "🚯": ":material/do_not_disturb:",
    "🚳": ":material/no_cycling:",
    "🚱": ":material/no_drinks:",
    "🔞": ":material/block:",
    "📵": ":material/mobile_off:",
    "🚭": ":material/smoke_free:",
    "❗": ":material/priority_high:",
    "❕": ":material/priority_high:",
    "❓": ":material/help:",
    "❔": ":material/help:",
    "‼️": ":material/priority_high:",
    "⁉️": ":material/help:",
    "🔅": ":material/brightness_low:",
    "🔆": ":material/brightness_high:",
    "〽️": ":material/graphic_eq:",
    "⚠️": ":material/warning:",
    "🚸": ":material/school:",
    "🔱": ":material/anchor:",
    "⚜️": ":material/local_florist:",
    "🔰": ":material/new_releases:",
    "♻️": ":material/recycling:",
    "✅": ":material/check_circle:",
    "🈯": ":material/location_on:",
    "💹": ":material/trending_up:",
    "❇️": ":material/auto_awesome:",
    "✳️": ":material/auto_awesome:",
    "❎": ":material/cancel:",
    "🌐": ":material/public:",
    "💠": ":material/diamond:",
    "Ⓜ️": ":material/subway:",
    "🌀": ":material/cyclone:",
    "💤": ":material/bedtime:",
    "🏧": ":material/atm:",
    "🚾": ":material/wc:",
    "♿": ":material/accessible:",
    "🅿️": ":material/local_parking:",
    "🈳": ":material/check_box_outline_blank:",
    "🈂️": ":material/language:",
    "🛂": ":material/passport:",
    "🛃": ":material/luggage:",
    "🛄": ":material/luggage:",
    "🛅": ":material/luggage:",
    "🚹": ":material/man:",
    "🚺": ":material/woman:",
    "🚼": ":material/baby_changing_station:",
    "🚻": ":material/wc:",
    "🚮": ":material/delete:",
    "🎦": ":material/movie:",
    "📶": ":material/signal_cellular_4_bar:",
    "🈁": ":material/language:",
    "🔣": ":material/text_fields:",
    "ℹ️": ":material/info:",
    "🔤": ":material/text_fields:",
    "🔡": ":material/text_fields:",
    "🔠": ":material/text_fields:",
    "🆖": ":material/cancel:",
    "🆗": ":material/check_circle:",
    "🆙": ":material/trending_up:",
    "🆒": ":material/ac_unit:",
    "🆕": ":material/new_releases:",
    "🆓": ":material/free_cancellation:",
    "0️⃣": ":material/looks_one:",
    "1️⃣": ":material/looks_one:",
    "2️⃣": ":material/looks_two:",
    "3️⃣": ":material/looks_3:",
    "4️⃣": ":material/looks_4:",
    "5️⃣": ":material/looks_5:",
    "6️⃣": ":material/looks_6:",
    "7️⃣": ":material/filter_7:",
    "8️⃣": ":material/filter_8:",
    "9️⃣": ":material/filter_9:",
    "🔟": ":material/filter_9_plus:",
    "🔢": ":material/pin:",
    "#️⃣": ":material/tag:",
    "*️⃣": ":material/star:",
    "⏏️": ":material/eject:",
    "▶️": ":material/play_arrow:",
    "⏸️": ":material/pause:",
    "⏯️": ":material/play_pause:",
    "⏹️": ":material/stop:",
    "⏺️": ":material/fiber_manual_record:",
    "⏭️": ":material/skip_next:",
    "⏮️": ":material/skip_previous:",
    "⏩": ":material/fast_forward:",
    "⏪": ":material/fast_rewind:",
    "⏫": ":material/keyboard_double_arrow_up:",
    "⏬": ":material/keyboard_double_arrow_down:",
    "◀️": ":material/arrow_back:",
    "🔼": ":material/keyboard_arrow_up:",
    "🔽": ":material/keyboard_arrow_down:",
    "➡️": ":material/arrow_forward:",
    "⬅️": ":material/arrow_back:",
    "⬆️": ":material/arrow_upward:",
    "⬇️": ":material/arrow_downward:",
    "↗️": ":material/north_east:",
    "↘️": ":material/south_east:",
    "↙️": ":material/south_west:",
    "↖️": ":material/north_west:",
    "↕️": ":material/swap_vert:",
    "↔️": ":material/swap_horiz:",
    "↪️": ":material/subdirectory_arrow_left:",
    "↩️": ":material/reply:",
    "⤴️": ":material/arrow_upward:",
    "⤵️": ":material/arrow_downward:",
    "🔀": ":material/shuffle:",
    "🔁": ":material/repeat:",
    "🔂": ":material/repeat_one:",
    "🔄": ":material/refresh:",
    "🔃": ":material/refresh:",
    "🎵": ":material/music_note:",
    "🎶": ":material/music_note:",
    "➕": ":material/add:",
    "➖": ":material/remove:",
    "➗": ":material/calculate:",
    "✖️": ":material/close:",
    "♾️": ":material/all_inclusive:",
    "💲": ":material/attach_money:",
    "💱": ":material/currency_exchange:",
    "™️": ":material/copyright:",
    "©️": ":material/copyright:",
    "®️": ":material/copyright:",
    "〰️": ":material/graphic_eq:",
    "➰": ":material/all_inclusive:",
    "➿": ":material/all_inclusive:",
    "🔚": ":material/last_page:",
    "🔙": ":material/arrow_back:",
    "🔛": ":material/play_arrow:",
    "🔝": ":material/keyboard_arrow_up:",
    "🔜": ":material/skip_next:",
    "✔️": ":material/check:",
    "☑️": ":material/check_box:",
    "🔘": ":material/radio_button_checked:",
    "🔴": ":material/circle:",
    "🟠": ":material/circle:",
    "🟡": ":material/circle:",
    "🟢": ":material/circle:",
    "🔵": ":material/circle:",
    "🟣": ":material/circle:",
    "⚫": ":material/circle:",
    "⚪": ":material/radio_button_unchecked:",
    "🟤": ":material/circle:",
    "🔺": ":material/change_history:",
    "🔻": ":material/change_history:",
    "🔸": ":material/diamond:",
    "🔹": ":material/diamond:",
    "🔶": ":material/diamond:",
    "🔷": ":material/diamond:",
    "🔳": ":material/check_box_outline_blank:",
    "🔲": ":material/check_box:",
    "▪️": ":material/stop:",
    "▫️": ":material/stop:",
    "◾": ":material/stop:",
    "◽": ":material/stop:",
    "◼️": ":material/stop:",
    "◻️": ":material/stop:",
    "🟥": ":material/stop:",
    "🟧": ":material/stop:",
    "🟨": ":material/stop:",
    "🟩": ":material/stop:",
    "🟦": ":material/stop:",
    "🟪": ":material/stop:",
    "⬛": ":material/stop:",
    "⬜": ":material/stop:",
    "🔈": ":material/volume_mute:",
    "🔇": ":material/volume_off:",
    "🔉": ":material/volume_down:",
    "🔊": ":material/volume_up:",
    "🔔": ":material/notifications:",
    "🔕": ":material/notifications_off:",
    "📣": ":material/campaign:",
    "📢": ":material/campaign:",
    "👁‍🗨": ":material/visibility:",
    "💬": ":material/chat:",
    "💭": ":material/chat_bubble:",
    "🗯️": ":material/chat:",
    "♠️": ":material/casino:",
    "♣️": ":material/casino:",
    "♥️": ":material/favorite:",
    "♦️": ":material/diamond:",
    "🃏": ":material/casino:",
    "🎴": ":material/casino:",
    "🀄": ":material/casino:",
    "🕐": ":material/schedule:",
    "🕑": ":material/schedule:",
    "🕒": ":material/schedule:",
    "🕓": ":material/schedule:",
    "🕔": ":material/schedule:",
    "🕕": ":material/schedule:",
    "🕖": ":material/schedule:",
    "🕗": ":material/schedule:",
    "🕘": ":material/schedule:",
    "🕙": ":material/schedule:",
    "🕚": ":material/schedule:",
    "🕛": ":material/schedule:",
    "🕜": ":material/schedule:",
    "🕝": ":material/schedule:",
    "🕞": ":material/schedule:",
    "🕟": ":material/schedule:",
    "🕠": ":material/schedule:",
    "🕡": ":material/schedule:",
    "🕢": ":material/schedule:",
    "🕣": ":material/schedule:",
    "🕤": ":material/schedule:",
    "🕥": ":material/schedule:",
    "🕦": ":material/schedule:",
    "🕧": ":material/schedule:",
}

def find_python_files(directory: Path) -> List[Path]:
    """Find all Python files in the directory"""
    python_files = []
    for file_path in directory.rglob("*.py"):
        # Skip __pycache__, .git, and venv directories
        if ("__pycache__" not in str(file_path) and 
            ".git" not in str(file_path) and 
            "venv" not in str(file_path) and
            "site-packages" not in str(file_path)):
            python_files.append(file_path)
    return python_files

def backup_file(file_path: Path) -> Path:
    """Create a backup of the file"""
    backup_path = file_path.with_suffix(file_path.suffix + ".emoji_backup")
    shutil.copy2(file_path, backup_path)
    return backup_path

def replace_emojis_in_file(file_path: Path, dry_run: bool = False) -> Tuple[int, List[str]]:
    """Replace emojis with Material Icons in a single file"""
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        original_content = content
        replacements_made = []
        
        # Replace emojis with Material Icons
        for emoji, material_icon in EMOJI_TO_MATERIAL_ICONS.items():
            if emoji in content:
                # Count occurrences
                count = content.count(emoji)
                if count > 0:
                    content = content.replace(emoji, material_icon)
                    replacements_made.append(f"  {emoji} → {material_icon} ({count} times)")
        
        # Write back to file if not dry run and changes were made
        if not dry_run and content != original_content:
            # Create backup first
            backup_file(file_path)
            
            with open(file_path, 'w', encoding='utf-8') as f:
                f.write(content)
        
        return len(replacements_made), replacements_made
    
    except Exception as e:
        print(f"Error processing {file_path}: {e}")
        return 0, []

def revert_file(file_path: Path) -> bool:
    """Revert a file from its backup"""
    backup_path = file_path.with_suffix(file_path.suffix + ".emoji_backup")
    
    if backup_path.exists():
        shutil.copy2(backup_path, file_path)
        backup_path.unlink()  # Remove backup file
        return True
    return False

def main():
    parser = argparse.ArgumentParser(description="Replace emojis with Material Icons in Python files")
    parser.add_argument("--dry-run", action="store_true", help="Show what would be changed without making changes")
    parser.add_argument("--revert", action="store_true", help="Revert all files from backups")
    parser.add_argument("--directory", default=".", help="Directory to process (default: current directory)")
    
    args = parser.parse_args()
    
    project_dir = Path(args.directory)
    
    if not project_dir.exists():
        print(f"Error: Directory {project_dir} does not exist")
        return 1
    
    # Find all Python files
    python_files = find_python_files(project_dir)
    
    if not python_files:
        print("No Python files found in the directory")
        return 0
    
    print(f"Found {len(python_files)} Python files to process")
    
    if args.revert:
        print("\n🔄 Reverting files from backups...")
        reverted_count = 0
        
        for file_path in python_files:
            if revert_file(file_path):
                print(f"✅ Reverted: {file_path}")
                reverted_count += 1
        
        print(f"\n📊 Summary: Reverted {reverted_count} files")
        return 0
    
    # Process files
    total_replacements = 0
    files_changed = 0
    
    action = "Would replace" if args.dry_run else "Replacing"
    print(f"\n🔄 {action} emojis with Material Icons...")
    
    for file_path in python_files:
        replacement_count, replacements = replace_emojis_in_file(file_path, args.dry_run)
        
        if replacement_count > 0:
            files_changed += 1
            total_replacements += replacement_count
            
            print(f"\n📄 {file_path}:")
            for replacement in replacements:
                print(replacement)
    
    # Summary
    print(f"\n📊 Summary:")
    print(f"  Files processed: {len(python_files)}")
    print(f"  Files with changes: {files_changed}")
    print(f"  Total emoji types replaced: {total_replacements}")
    
    if args.dry_run:
        print(f"\n💡 This was a dry run. To apply changes, run without --dry-run")
        print(f"💡 To revert changes later, use --revert")
    else:
        print(f"\n✅ Emoji replacement complete!")
        print(f"💾 Backup files created with .emoji_backup extension")
        print(f"🔄 To revert changes, run: python {__file__} --revert")
    
    return 0

if __name__ == "__main__":
    exit(main()) 